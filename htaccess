RewriteEngine on

# Redirect /file.html to /file (remove .html from URL)
RewriteCond %{THE_REQUEST} /([^.]+)\.html [NC]
RewriteRule ^ /%1 [NC,L,R]

# Internally map /file to /file.html if file exists
RewriteCond %{REQUEST_FILENAME}.html -f
RewriteRule ^ %{REQUEST_URI}.html [NC,L]

# Custom 404 error page
ErrorDocument 404 /404.html

<IfModule mod_headers.c>
    <FilesMatch "\.(css|js)$">
        Header set X-Test-Header "HelloWorld"
    </FilesMatch>
</IfModule>